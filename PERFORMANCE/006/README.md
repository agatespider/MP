# 화면 응답시간 분석 및 HTTP 이해

웹기반 시스템에서 HTML, CSS, JS, IMAGE등 웹 구성요소를 다운로드해서 화면을 구성하는데 어플리케이션 수행 시간외에 응답시간에 영향을 끼치는 요소들이 많다.

예를 들자면 동일한 화면이라도 브라우저의 종류, PC의 사양, 사용하는 네트워크의 종류, 서버와의 물리적인 거리에 따라서 응답시간 차이가 발생하게 된다.

즉 응답시간을 분석을 하려면 한가지가 아닌 전체적인 상황을 보고 분석을 해야한다.

그리고 웹기반시스템에서 가장 기본적인 HTTP에 대해서 알아야 한다.
 
## 1. 화면 응답시간 분석 중점 항목
 
### 1.1 처리시간 상세 분석
1. 화면 렌더링: 화면을 그리거나 화면 구성 컨텐츠를 로딩하는데 얼마나 걸리는지 확인.
2. 로컬 로직: 화면 렌더링 외에 Javascript에서 수행되는 로직은 얼마나 걸리는지 확인.
3. 서버 처리: 서버 Application의 수행시간은 얼마나 걸리는지 확인.
4. 네트워크: 네트워크 전송 품질은 양호한지 확인. 리소스(HTML, JS, CSS등)크기들이 커서 전송시간에 오래 걸리는지 확인.
5. 리소스: HTML, CSS, JS등 리소스들의 콘텐츠 수를 줄일 수 있는지 확인.
6. 캐시: 어떤 종류의 캐시를 사용하는지 확인하고 캐시가 잘 동작하는지 확인.
7. 병렬/비동기: 서버 요청의 구조를 변경이 가능한지 확인.
8. 사용환경: 사용자들의 PC환경이 다양한지 확인, 로컬 로직에 logging이 있는지 확인.

## 2. HTTP(HyperText Transfer Protocol) 이해
HTTP는 WWW(World Wide Web)상에서 데이터를 주고 받을 수 있도록 개발된 프로토콜이며 1999년에 개발된 1.1버전이 많이 사용되고 있다.

현재는 클라이언트화면과 서버간의 통신에 많이 사용되는데 통신전문이 HTML이 아니더라도 HTTP를 사용하는 경우가 흔하다. 그래서 응답시간을 분석하려면 HTTP의 기본 동작 방식을 이해해야 한다.
 
### 2.1 HTTP 구조
HTTP는 클라이언트(브라우저)와 서버(웹 서버)간의 요청/응답 구조를 띈 프로토콜이다. 즉 1:1 구조를 띄고 있어서 한 화면을 구성하는 컨텐츠가 100개면 요청/응답이 100번이 일어나는 것이 된다.
 
HTTP 요청/응답은 모두 Header와 Body로 구성되어 있다. Header는 HTTP정의에 따른 처리 대상, 처리 결과 코드, 브라우저, 웹 서버 정보, 데이터 처리를 위한 각종 속성정보가 있다. 그리고 요청시 POST가 아닌 GET일 경우 Body는 없다.

Header의 속성 구분자로 CRLF를 사용한다. 2Byte를 차지하며 \r(16진수: 0D)와 \n(16진수: 0A)로 구성 되어 있다. 그리고 Header가 끝나는 부분은 CRLF가 2번 사용되서 4Byte로 구성이 된다.


